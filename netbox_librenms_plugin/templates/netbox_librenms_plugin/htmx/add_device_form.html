{% load form_helpers %}
<form action="{{ form_url }}" method="post">
  {% csrf_token %}
  <input type="hidden" name="device_id" value="{{ device.pk }}">
  <div class="modal-header">
    <h5 class="modal-title">Add Device to LibreNMS</h5>
  </div>
  <div class="modal-body">
    <div class="alert alert-info" role="alert">
      <p>Note: Only SNMP v2c is supported at this time.</p>
      <p>If required, add device using LibreNMS then return this sync page.</p>
    </div>
    <div class="form-group">
      <label for="hostname">Hostname/IP</label>
      <input type="text" class="form-control" id="hostname" name="hostname" value="{{ device.primary_ip.address.ip }}" required>
    </div>
    <div class="form-group">
      <label for="site">Site</label>
      <input type="text" class="form-control" id="site" name="site" value="{{ device.site.name }}" required>
    </div>
    <div class="form-group">
      <label for="snmpCommunity">SNMP Community</label>
      <input type="password" class="form-control" id="snmpCommunity" name="community" required>
    </div>
    <div class="form-group">
      <label for="snmpVersion">SNMP Version</label>
      <select class="form-control" id="snmpVersion" name="version">
        <option value="v2c">v2c</option>
      </select>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
    <button type="submit" class="btn btn-primary">Add Device</button>
  </div>
</form>
